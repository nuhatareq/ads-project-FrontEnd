<div class="row" *ngIf="IsSpinner">
    <div class="col-2 mx-auto">
        <p-progressSpinner animationDuration="5s"></p-progressSpinner>
    </div>
</div>

<div class="row">
    <div class="card px-6 py-6">
        <p-toolbar styleClass="mb-4">
            <button pButton pRipple label=" اضافة شركة" class="p-button-success" (click)="openNew()">
                <i class="pi pi-plus px-2 mt-1"></i>
            </button>
        </p-toolbar>
        <app-table_name-options [products]="companies" [cols]="cols" tablename=" الشركات"
            (filter)="onGlobalFilter($event)" (updateElement)="editProduct($event)"
            [headers]="headers" [keys]="keys" [btnInfo]="true"
            (showElement)="showCompanyDetails($event)"></app-table_name-options>
        <div class="flex justify-content-center" dir="ltr">
            <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows" [totalRecords]="120"
                [rowsPerPageOptions]="[10, 20, 30]"></p-paginator>
        </div>
    </div>
</div>

<!-- this dialog to open modal for adding company  -->
<p-dialog [(visible)]="productDialog" [style]="{ width: '80vw'}" header='اضافة شركة ' [modal]="true" class="p-fluid">
    <ng-template pTemplate="content">
        <form [formGroup]="companyForm" class=" px-4 mt-3">
            <div class="row">
                <div class=" col-6">
                    <app-input [formName]="companyForm" controlName="companyName" placeholderText="ادخل اسم الشركة"
                        labelName="اسم الشركة :" inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['companyName'].invalid && companyForm.controls['companyName'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialCompanyName"
                        placeholderText=" ادخل اسم الشركة التجارى" labelName=" اسم الشركة التجارى:"
                        inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['commercialCompanyName'].invalid && companyForm.controls['commercialCompanyName'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyEmail" placeholderText=" ادخل البريد الالكترونى"
                        labelName=" بريد الشركة الالكترونى  :" inputType="email"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['companyEmail'].invalid && companyForm.controls['companyEmail'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyPhoneNumber"
                        placeholderText=" ادخل رقم هاتف الشركة  " labelName=" رقم هاتف الشركة  :"
                        inputType="number"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['companyPhoneNumber'].invalid && companyForm.controls['companyPhoneNumber'].touched">
                    <span class="text-danger">الحقل مطلوب *. </span>
                </small>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialNumber" placeholderText=" ادخل رقم السجل التجارى"
                        labelName="  رقم السجل التجارى :" inputType="number"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['commercialNumber'].invalid && companyForm.controls['commercialNumber'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyFaxNumber"
                        placeholderText=" ادخل رقم الفاكس للشركة " labelName="  رقم الفاكس :" inputType="number"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['companyFaxNumber'].invalid && companyForm.controls['companyFaxNumber'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
            </div>

            <div class="row">
                <div class="col-8">
                    <app-input [formName]="companyForm" controlName="companyAddress" placeholderText="ادخل عنوان الشركة"
                        labelName=" عنوان الشركة :" inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['companyAddress'].invalid && companyForm.controls['companyAddress'].touched">
                       <span class="text-danger"> الحقل مطلوب وباللغة العربية *
                        .</span>
                    </small>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialIssuedPlace"
                        placeholderText=" ادخل جهة اصدار السجل التجارى" labelName="   جهة اصدار السجل التجارى :"
                        inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['commercialIssuedPlace'].invalid && companyForm.controls['commercialIssuedPlace'].touched">
                        <span class="text-danger">الحقل مطلوب باللغة العربية*
                        .</span>
                    </small>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxCompanyName"
                        placeholderText=" ادخل اسم الشركة بالبطاقة الضريبية " labelName="  اسم الشركة بالبطاقة الضريبية  :"
                        inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['taxCompanyName'].invalid && companyForm.controls['taxCompanyName'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxNumber" placeholderText=" ادخل رقم البطاقة الضريبية"
                        labelName="  رقم البطاقة الضريبية :" inputType="number"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['taxNumber'].invalid && companyForm.controls['taxNumber'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxIssuedPlace" placeholderText=" ادخل مأمورية الضرائب "
                        labelName="  مأمورية الضرائب  :" inputType="text"></app-input>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['taxIssuedPlace'].invalid && companyForm.controls['taxIssuedPlace'].touched">
                        <span class="text-danger">الحقل مطلوب باللغة العربية*
                        .</span>
                    </small>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <input type="file" id="imageUrl" (change)="onSelectFile($event , false)" hidden>
                    <!-- <label for="imageUrl" class="btn btn-secondary my-3 w-25">اضغط لتحميل صورة السجل التجارى </label>
                        <input class="w-75 " type="text" pInputText value="{{imagePathControlName}}"
                        placeholder="صورة السجل التجارى" disabled> -->
                    <label class="fw-bold">صورة السجل التجارى :</label>
                    <div class="p-inputgroup mt-2" dir="ltr">
                        <input  type="text" pInputText value="{{imagePathControlName}}"
                            formControlName="commercialDocument" />
                        <label class="p-inputgroup-addon w-25" for="imageUrl">تصفح</label>
                    </div>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['commercialDocument'].invalid && companyForm.controls['commercialDocument'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
                <div class="col-6">
                    <input type="file" id="imageUrltax" (change)="onSelectFile($event , true)" hidden>
                    <label class=" fw-bold">صورة البطاقة الضريبية :</label>
                    <div class="p-inputgroup mt-2" dir="ltr">
                        <input  type="text" pInputText value="{{imagePathControlNametax}}"
                            formControlName="taxDocument" />
                        <label class="p-inputgroup-addon w-25" for="imageUrltax">تصفح</label>
                    </div>
                    <small class="ng-dirty ng-invalid"
                        *ngIf=" companyForm.controls['taxDocument'].invalid && companyForm.controls['taxDocument'].touched">
                        <span class="text-danger">الحقل مطلوب *. </span>
                    </small>
                </div>
            </div>

            <div class="row " formArrayName="companyRepresenters">
                <p-panel [toggleable]="true" *ngFor="let owner of companyRepresenters.controls ;let i= index">
                    <ng-template pTemplate="header"> <span class="text-dark font-semibold ">بيانات المالك /
                            المفوض</span></ng-template>
                    <form [formGroup]="getFromControl(i,companyRepresenters)">
                        <div class="row">
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)" controlName="representerFullName"
                                    placeholderText="  ادخل اسم المالك / المفوض  " labelName=" الاسم  :"
                                    inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid " *ngIf=" getFromControl(i,companyRepresenters).controls['representerFullName'].invalid
                                         && getFromControl(i,companyRepresenters).controls['representerFullName'].touched">
                                    <span class="text-danger">الحقل مطلوب باللغة العربية كما هو مسجل بالبطاقة الشخصية*
                                    .</span>
                                </small>
                            </div>
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)" controlName="representerNumber"
                                    placeholderText=" ادخل رقم الهاتف للمالك / المفوض " labelName="  رقم الهاتف  :"
                                    inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid "
                                    *ngIf=" getFromControl(i,companyRepresenters).controls['representerNumber'].invalid
                                                                 && getFromControl(i,companyRepresenters).controls['representerNumber'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)" controlName="representerEmail"
                                    placeholderText=" ادخل البريد الالكترونى  " labelName="  البريد الالكترونى :"
                                    inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid "
                                    *ngIf=" getFromControl(i,companyRepresenters).controls['representerEmail'].invalid
                                                     && getFromControl(i,companyRepresenters).controls['representerEmail'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)" controlName="representerPIOID"
                                    placeholderText=" ادخل الرقم القومى  " labelName="  الرقم القومى  :"
                                    inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid " *ngIf=" getFromControl(i,companyRepresenters).controls['representerPIOID'].invalid
                                               && getFromControl(i,companyRepresenters).controls['representerPIOID'].touched">
                                    <span class="text-danger">الحقل مطلوب كما هو مسجل بالبطاقة الشخصية*
                                    .</span>
                                </small>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-6">
                                <label for="" class="fw-bold">الوظيفة :</label>
                                <p-dropdown formControlName="jobTypeIdd" [options]="jobTitles" optionLabel="name"
                                    (onChange)="choosenSelect($event,true)" placeholder=" ادخل الوظيفة "
                                    styleClass="editeSize"></p-dropdown>
                                <small class="ng-dirty ng-invalid "
                                    *ngIf=" getFromControl(i,companyRepresenters).controls['jobTypeId'].invalid
                                                             && getFromControl(i,companyRepresenters).controls['jobTypeId'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                            <div class="col-6 ">
                                <label for="" class=" fw-bold">مالك /مفوض :</label>
                                <p-dropdown class="w-100" formControlName="isOnwerr" [options]="owners" optionLabel="name"
                                    (onChange)="choosenSelect($event,false)" placeholder=" ادخل نوع الممثل  "></p-dropdown>
                                <small class="ng-dirty ng-invalid " *ngIf=" getFromControl(i,companyRepresenters).controls['isOnwer'].invalid
                                                        && getFromControl(i,companyRepresenters).controls['isOnwer'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)"
                                    controlName="representerOfficeNumber" placeholderText=" ادخل رقم المكتب  "
                                    labelName="  رقم المكتب :" inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid "
                                    *ngIf=" getFromControl(i,companyRepresenters).controls['representerOfficeNumber'].invalid
                                                       && getFromControl(i,companyRepresenters).controls['representerOfficeNumber'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                            <div class="col-6">
                                <app-input [formName]="getFromControl(i,companyRepresenters)" controlName="representerFaxNumber"
                                    placeholderText=" ادخل رقم الفاكس  " labelName="  رقم الفاكس  :"
                                    inputType="text"></app-input>
                                <small class="ng-dirty ng-invalid "
                                    *ngIf=" getFromControl(i,companyRepresenters).controls['representerFaxNumber'].invalid
                                                      && getFromControl(i,companyRepresenters).controls['representerFaxNumber'].touched">
                                    <span class="text-danger">الحقل مطلوب *. </span>
                                </small>
                            </div>
                        </div>
                    </form>
                </p-panel>
            </div>
            <div class="row">
                <div class="col-3">
                    <p-button iconPos="right" (click)="addOwner()">
                        <i class="pi pi-plus ps-2 "></i>
                       <span> اضافة مالك / مفوض </span>
                    </p-button>
                </div>
            </div>
            <div class="row">
                <div class="col-4 flex mx-auto">
                        <button pButton pRipple label="تسجيل الشركة" class="p-button-success ms-2" (click)="saveCompany()"
                            [disabled]="companyForm.invalid"></button>
                        <button pButton pRipple label="الغاء" class=" p-button-danger " (click)="hideDialog()"></button>
                </div>

            </div>
        </form>
    </ng-template>
</p-dialog>

<!-- this dialog to open modal for updating company -->
<p-dialog [(visible)]="editproductDialog" [style]="{ width: '80vw' }" header="تعديل بيانات الشركة" >
    <ng-template pTemplate="content">
        <form [formGroup]="companyForm" class="px-4 mt-3 card">
            <div class="row">
                <div class=" col-6">
                    <app-input [formName]="companyForm" controlName="companyName" placeholderText="ادخل اسم الشركة"
                        labelName="اسم الشركة :" inputType="text"></app-input>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialCompanyName"
                        placeholderText=" ادخل اسم الشركة التجارى" labelName=" اسم الشركة التجارى:"
                        inputType="text"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyEmail" placeholderText=" ادخل البريد الالكترونى"
                        labelName=" بريد الشركة الالكترونى  :" inputType="email"></app-input>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyPhoneNumber"
                        placeholderText=" ادخل رقم هاتف الشركة  " labelName=" رقم هاتف الشركة  :"
                        inputType="number"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialNumber"
                        placeholderText=" ادخل رقم السجل التجارى" labelName="  رقم السجل التجارى :"
                        inputType="number"></app-input>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="companyFaxNumber"
                        placeholderText=" ادخل رقم الفاكس للشركة " labelName="  رقم الفاكس :"
                        inputType="number"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-8">
                    <app-input [formName]="companyForm" controlName="companyAddress" placeholderText="ادخل عنوان الشركة"
                        labelName=" عنوان الشركة :" inputType="text"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="commercialIssuedPlace"
                        placeholderText=" ادخل جهة اصدار السجل التجارى" labelName="   جهة اصدار السجل التجارى :"
                        inputType="text"></app-input>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxCompanyName"
                        placeholderText=" ادخل اسم الشركة بالبطاقة الضريبية " labelName="  اسم الشركة بالبطاقة الضريبية  :"
                        inputType="text"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxNumber" placeholderText=" ادخل رقم البطاقة الضريبية"
                        labelName="  رقم البطاقة الضريبية :" inputType="number"></app-input>
                </div>
                <div class="col-6">
                    <app-input [formName]="companyForm" controlName="taxIssuedPlace"
                        placeholderText=" ادخل مأمورية الضرائب " labelName="  مأمورية الضرائب  :"
                        inputType="text"></app-input>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <input type="file" id="imageUrl" (change)="onSelectFile($event , false)" hidden>
                    <label class=" fw-bold">صورة السجل التجارى :</label>
                    <div class="p-inputgroup mt-2" dir="ltr">
                        <input type="text" pInputText value="{{imagePathControlName}}"
                            formControlName="commercialDocument" />
                        <label class="p-inputgroup-addon w-25" for="imageUrl">تصفح</label>
                    </div>
                </div>
                <div class="col-6">
                    <input type="file" id="imageUrltax" (change)="onSelectFile($event , true)" hidden>
                    <label class=" fw-bold">صورة البطاقة الضريبية :</label>
                    <div class="p-inputgroup mt-2" dir="ltr">
                        <input type="text" pInputText value="{{imagePathControlNametax}}"
                            formControlName="taxDocument" />
                        <label class="p-inputgroup-addon w-25" for="imageUrltax">تصفح</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-2 mx-auto">
                    <button pButton pRipple label="حفظ" class="p-button-success  justify-content-center w-100 fw-bold"
                    (click)="updateSelectedCompany()"></button>
                </div>
            </div>
        </form>

        <div class="row  my-3">
            <h4>تعديل بيانات الممثلين للشركة</h4>
            <div class="col-6 card" *ngFor="let representer of representers ; let i= index">
                <h5 class="bg-light p-3">المالك / المفوض رقم {{i+1}}</h5>
                <div class="row mt-3 ">
                    <p> - اسم المالك / المفوض : {{representer.representerFullName}}</p>
                </div>
                <div class="row mt-3">
                    <p> - البريد الالكترونى : {{representer.representerEmail}}</p>
                </div>
                <div class="row mt-3">
                    <p> - رقم الهاتف : {{representer.representerNumber}}</p>
                </div>
                <div class="row mt-3">
                    <p> - الرقم القومى: {{representer.representerPIOID}}</p>
                </div>
                <div class="row mt-3">
                    <p>- الوظيفة: {{representer.jobTypeName}}</p>
                </div>
                <div class="row mt-3">
                    <p>- رقم المكتب : {{representer.representerOfficeNumber}}</p>
                </div>
                <div class="row mt-3">
                    <p> - رقم الفاكس : {{representer.representerFaxNumber}}</p>
                </div>
                <div class="row">
                    <div class="col-3 mx-auto">
                        <button pButton pRipple label=" حذف" class="p-button-danger w-100" (click)="deleteRepresenterforUpdateCompanyModal(i)"></button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="row">
                <div class="col-3">
                    <button pButton pRipple class="p-button-success fw-bold" (click)="addRepresenterForUpdate()">
                        <i class="pi pi-plus px-2 mt-1" *ngIf="isAddRepresenter"></i>
                        {{isAddRepresenter ? 'اضافة ممثل' : 'إلغاء'}}
                    </button>
                </div>
            </div>
            <div class="row mb-4" [hidden]="isAddRepresenter">
                <form [formGroup]="newRepresenter" class="row  px-4 mt-3 me-2">
                    <div class="row">
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerFullName"
                                placeholderText="  ادخل اسم المالك / المفوض  " labelName=" الاسم  :" inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid" *ngIf=" newRepresenter.controls['representerFullName'].invalid
                                                                        && newRepresenter.controls['representerFullName'].touched">
                                <span class="text-danger">
                                    الحقل مطلوب باللغة العربية كما هو مسجل بالبطاقة الشخصية*
                                </span>
                                .</small>
                        </div>
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerNumber"
                                placeholderText=" ادخل رقم الهاتف للمالك / المفوض " labelName="  رقم الهاتف  :"
                                inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid" *ngIf="newRepresenter.controls['representerNumber'].invalid
                                                                        && newRepresenter.controls['representerNumber'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerEmail"
                                placeholderText=" ادخل البريد الالكترونى  " labelName="  البريد الالكترونى :"
                                inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid"
                                *ngIf=" newRepresenter.controls['representerEmail'].invalid
                                                                                                 && newRepresenter.controls['representerEmail'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerPIOID"
                                placeholderText=" ادخل الرقم القومى  " labelName="  الرقم القومى  :" inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid"
                                *ngIf=" newRepresenter.controls['representerPIOID'].invalid
                                                                                           && newRepresenter.controls['representerPIOID'].touched">
                                <span class="text-danger">
                                    الحقل مطلوب كما هو مسجل بالبطاقة الشخصية*
                                    .
                                </span>
                            </small>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-6 ">
                            <label for="" class="fw-bold">الوظيفة :</label>
                            <p-dropdown formControlName="jobTypeIdd" [options]="jobTitles" optionLabel="name"
                                (onChange)="choosenSelect($event,true)" placeholder=" ادخل الوظيفة "
                                styleClass="editeSize"></p-dropdown>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="newRepresenter.controls['jobTypeId'].invalid
                                                                                                         && newRepresenter.controls['jobTypeId'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                        <div class="col-6 ">
                            <label for="" class=" fw-bold">مالك /مفوض :</label>
                            <p-dropdown class=" w-100" formControlName="isOnwerr" [options]="owners" optionLabel="name"
                                (onChange)="choosenSelect($event,false)" placeholder=" ادخل نوع الممثل  "></p-dropdown>
                            <small class="ng-dirty ng-invalid"
                                *ngIf=" newRepresenter.controls['isOnwer'].invalid
                                                                                                 && newRepresenter.controls['isOnwer'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerOfficeNumber"
                                placeholderText=" ادخل رقم المكتب  " labelName="  رقم المكتب :" inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid"
                                *ngIf="newRepresenter.controls['representerOfficeNumber'].invalid
                                                                                                   && newRepresenter.controls['representerOfficeNumber'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                        <div class="col-6">
                            <app-input [formName]="newRepresenter" controlName="representerFaxNumber"
                                placeholderText=" ادخل رقم الفاكس  " labelName="  رقم الفاكس  :" inputType="text"></app-input>
                            <small class="ng-dirty ng-invalid"
                                *ngIf=" newRepresenter.controls['representerFaxNumber'].invalid
                                                                                                  && newRepresenter.controls['representerFaxNumber'].touched">
                                <span class="text-danger">الحقل مطلوب *. </span>
                            </small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-2 mx-auto">
                            <button pButton pRipple class="p-button-success w-100 justify-content-center fw-bold"
                            (click)="addNewRepresenterInUpdateCompanyModal()">
                                حفظ
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <div class="row">
            <div class="col-2 mx-auto">
                <!-- <button pButton pRipple label="حفظ" class="p-button-success "
                    (click)="updateSelectedAdType()"></button> -->
                <button pButton pRipple label="الغاء" class="p-button-danger " (click)="hideDialog()"></button>
            </div>
        </div>
    </ng-template>
</p-dialog>

<!-- this dialog to show company data  -->
<p-dialog [(visible)]="show" [style]="{ width: '80vw'}" header=" بيانات الشركة" [modal]="true" class="p-fluid">
    <div class="row fw-bold card ">
        <div class="row">
            <h4>بيانات الشركة</h4>
            <div class="col-6">
                <p>اسم الشركة : {{company.companyName}}</p>
            </div>
            <div class="col-6">
                <p>البريد الالكترونى للشركة : {{company.companyEmail}}</p>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <p>رقم هاتف الشركة : {{company.companyPhoneNumber}}</p>
            </div>
            <div class="col-6">
                <p>رقم فاكس الشركة : {{company.companyFaxNumber}}</p>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <p> عنوان الشركة : {{company.companyAddress}}</p>
            </div>
        </div>
    </div>

    <div class="row fw-bold card ">
        <div class="row">
            <h4>بيانات السجل التجارى</h4>
            <div class="col-6">
                <p>اسم التجارى  : {{company.commercialCompanyName}}</p>
            </div>
            <div class="col-6">
                <p>  رقم السجل التجارى : {{company.commercialNumber}}</p>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <p>جهة اصدار السجل التجارى : {{company.commercialIssuedPlace}}</p>
            </div>
            <div class="col-6">
                <p>صورة السجل التجارى : <a [href]="commericalDocumentLink">اضغط هنا</a></p>
            </div>
        </div>
    </div>

    <div class="row fw-bold card ">
        <div class="row">
            <h4>  البيانات الضريبية</h4>
            <div class="col-6">
                <p>اسم الشركة بالبطاقة الضريبية : {{company.taxCompanyName}}</p>
            </div>
            <div class="col-6">
                <p> رقم البطاقة الضريبية : {{company.taxNumber}}</p>
            </div>
        </div>
        <div class="row">
            <div class="col-6">
                <p>مأمورية الضرائب  : {{company.taxIssuedPlace}}</p>
            </div>
            <div class="col-6">
                <p>صورة البطاقة الضريبية  : <a [href]="taxDocumentLink">اضغط هنا</a></p>
            </div>
        </div>
    </div>

    <div class="row fw-bold card ">
        <div class="row">
            <h4> البيانات المالكين / المفوضين</h4>
        </div>
        <div class="row">
            <div class="col-6 card"*ngFor="let representer of company.companyRepresenters; let i=index">
                <h5 class="bg-light p-3">المالك / المفوض رقم {{i+1}}</h5>
                <div class="row mt-3 ">
                    <p> - اسم المالك / المفوض : {{representer.representerFullName}}</p>
                </div>
                <div class="row mt-3">
                    <p> - البريد الالكترونى : {{representer.representerEmail}}</p>
                </div>
                <div class="row mt-3">
                    <p> - رقم الهاتف : {{representer.representerNumber}}</p>
                </div>
                <div class="row mt-3">
                    <p> - الرقم القومى: {{representer.representerPIOID}}</p>
                </div>
                <div class="row mt-3">
                    <p>- الوظيفة: {{representer.jobTypeName}}</p>
                </div>
                <div class="row mt-3">
                    <p>- رقم  المكتب : {{representer.representerOfficeNumber}}</p>
                </div>
                <div class="row mt-3">
                    <p> - رقم  الفاكس : {{representer.representerFaxNumber}}</p>
                </div>
            </div>
        </div>
    </div>

</p-dialog>

<!-- this dialog to open modal to delete data -->
<!-- <p-dialog [(visible)]="deleteProductDialog" header="تأكيد" [modal]="true">
    <div class="flex align-items-center justify-content-center ">
        <span>هل انت متأكد من حذف العنصر</span>
        <i class="pi pi-exclamation-triangle mr-3 fs-2 text-danger"></i>
    </div>
    <ng-template pTemplate="footer">
        <button pButton pRipple class="p-button-outlined p-button-success" label="نعم"
            (click)="confirmDelete()"></button>
        <button pButton pRipple class="p-button-outlined p-button-danger" label="لا"
            (click)="deleteProductDialog = false"> </button>

    </ng-template>
</p-dialog> -->
